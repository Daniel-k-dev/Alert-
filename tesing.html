<script>
    

    if (!(Notification.permission == 'granted')) {
      Notification.requestPermission().then(function(permission) {
        function askNotificationPermission() {
            // 권한을 실제로 요구하는 함수
            function handlePermission(permission) {
                // 사용자의 응답에 관계 없이 크롬이 정보를 저장할 수 있도록 함
                if(!('permission' in Notification)) {
                    Notification.permission = permission;
                }
                if ((Notification.permission == 'granted')) {
                  var title = 'test'
                  var text = '아! ' + title + ' 작업 기한이 만료됐습니다.';
                  setInterval(() => console.log('10sec'), 1000); 
                  window.setInterval(console.log('10sec'), 1000*10);          }
            }
        }
  
        if(!('permission' in Notification)) {
            Notification.permission = permission;
        }
    });
    
    }
    else {
      var title = 'test'
      var text = '아! "' + title + '" 작업 기한이 만료됐습니다.';
      window.setInterval(console.log('10sec'), 1000*10);
    }
    
     
  </script>


<script>
    window.setTimeout(function(){notifyMe();}, 5000);
    function notifyMe() {
      if (!("Notification" in window)) {
        alert("This browser does not support desktop notification");
      } 
      else if (Notification.permission === "granted") {
        var data = []
        data['title'] = "notification's title";
        data['body'] = "notification's body";
        var notification = new Notification(data['title'], {'body': data['body']});
        notification.onclick = (event) => {
            event.preventDefault(); // prevent the browser from focusing the Notification's tab
            window.open('http://www.naver.com', '_blank');
        }
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(function (permission) {
          if (permission === "granted") {
            var notification = new Notification("really");
          }
        });
      }
    }
</script>